<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article#
" lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>stg-publish | Stacked Git</title>
<link href="../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://stacked-git.github.io/man/stg-publish.html">
<!--[if lt IE 9]><script src="../assets/js/html5.js"></script><![endif]--><meta name="author" content="Stacked Git Authors">
<meta property="og:site_name" content="Stacked Git">
<meta property="og:title" content="stg-publish">
<meta property="og:url" content="https://stacked-git.github.io/man/stg-publish.html">
<meta property="og:description" content="NAME

stg-publish - (DEPRECATED) Push the stack changes to a merge-friendly branch



SYNOPSIS


stg publish [options] [--] [branch]





DESCRIPTION

DEPRECATED: The stg publish command will be remov">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2020-05-11T20:55:40Z">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-expand-md static-top mb-4
navbar-dark bg-dark
"><div class="container">
<!-- This keeps the margins nice -->
        <a class="navbar-brand" href="https://stacked-git.github.io/">

            <span id="blog-title">Stacked Git</span>
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="bs-navbar">
            <ul class="navbar-nav mr-auto">
<li class="nav-item dropdown">
<a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Documentation</a>
            <div class="dropdown-menu">
                    <a href="../usage-example.html" class="dropdown-item">Usage Example</a>
                    <a href="tutorial.html" class="dropdown-item">Tutorial</a>
                    <a href="stg.html" class="dropdown-item">Man Pages</a>
            </div>
            </li>
<li class="nav-item dropdown">
<a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Development</a>
            <div class="dropdown-menu">
                    <a href="https://github.com/stacked-git/stgit" class="dropdown-item">Source Code</a>
                    <a href="https://github.com/stacked-git/stgit/releases" class="dropdown-item">Releases</a>
                    <a href="https://github.com/stacked-git/stgit/issues" class="dropdown-item">Issue Tracker</a>
                    <a href="https://groups.google.com/d/forum/stgit" class="dropdown-item">Forum</a>
            </div>

                
            </li>
</ul>
<ul class="navbar-nav navbar-right"></ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        
        
        
<article class="post-text storypage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="#" class="u-url">stg-publish</a></h1>

        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div>
<div class="sect1">
<h4 id="_name">NAME</h4>
<div class="sectionbody">
<div class="paragraph"><p>stg-publish - (DEPRECATED) Push the stack changes to a merge-friendly branch</p></div>
</div>
</div>
<div class="sect1">
<h4 id="_synopsis">SYNOPSIS</h4>
<div class="sectionbody">
<div class="verseblock">
<pre class="content"><em>stg publish</em> [options] [--] [branch]</pre>
<div class="attribution">
</div>
</div>
</div>
</div>
<div class="sect1">
<h4 id="_description">DESCRIPTION</h4>
<div class="sectionbody">
<div class="paragraph"><p>DEPRECATED: The <em>stg publish</em> command will be removed in a future version of
StGit.</p></div>
<div class="paragraph"><p>This command commits a set of changes on a separate (called public) branch
based on the modifications of the given or current stack. The history of the
public branch is not re-written, making it merge-friendly and feasible for
publishing. The heads of the stack and public branch may be different but the
corresponding tree objects are always the same.</p></div>
<div class="paragraph"><p>If the trees of the stack and public branch are different (otherwise the
command has no effect), StGit first checks for a rebase of the stack since the
last publishing. If a rebase is detected, StGit creates a commit on the public
branch corresponding to a merge between the new stack base and the latest
public head.</p></div>
<div class="paragraph"><p>If no rebasing was detected, StGit checks for new patches that may have been
created on top of the stack since the last publishing. If new patches are
found and are not empty, they are checked into the public branch keeping the
same commit information (e.g. log message, author, committer, date).</p></div>
<div class="paragraph"><p>If the above tests fail (e.g. patches modified or removed), StGit creates a
new commit on the public branch having the same tree as the stack but the
public head as its parent. The editor will be invoked if no "--message" option
is given.</p></div>
<div class="paragraph"><p>It is recommended that stack modifications falling in different categories as
described above are separated by a publish command in order to keep the public
branch history cleaner (otherwise StGit would generate a big commit including
several stack modifications).</p></div>
<div class="paragraph"><p>The <em>--unpublished</em> option can be used to check if there are applied patches
that have not been published to the public branch. This is done by trying to
revert the patches in the public tree (similar to the <em>push --merged</em>
detection). The <em>--last</em> option tries to find the last published patch by
checking the SHA1 of the patch tree agains the public tree. This may fail if
the stack was rebased since the last publish command.</p></div>
<div class="paragraph"><p>The public branch name can be set via the branch.&lt;branch&gt;.public configuration
variable (defaulting to "&lt;branch&gt;.public").</p></div>
</div>
</div>
<div class="sect1">
<h4 id="_options">OPTIONS</h4>
<div class="sectionbody">
<div class="dlist"><dl>
<dt class="hdlist1">
-b BRANCH
</dt>
<dt class="hdlist1">
--branch BRANCH
</dt>
<dd>
<p>
        Use BRANCH instead of the default branch.
</p>
</dd>
<dt class="hdlist1">
-l
</dt>
<dt class="hdlist1">
--last
</dt>
<dd>
<p>
        Show the last published patch.
</p>
</dd>
<dt class="hdlist1">
-u
</dt>
<dt class="hdlist1">
--unpublished
</dt>
<dd>
<p>
        Show applied patches that have not been published.
</p>
</dd>
<dt class="hdlist1">
--overwrite
</dt>
<dd>
<p>
        Overwrite branch instead of creating new commits.
</p>
</dd>
<dt class="hdlist1">
--author "NAME &lt;EMAIL&gt;"
</dt>
<dd>
<p>
        Set the author details.
</p>
</dd>
<dt class="hdlist1">
--authname NAME
</dt>
<dd>
<p>
        Set the author name.
</p>
</dd>
<dt class="hdlist1">
--authemail EMAIL
</dt>
<dd>
<p>
        Set the author email.
</p>
</dd>
<dt class="hdlist1">
--authdate DATE
</dt>
<dd>
<p>
        Set the author date.
</p>
</dd>
<dt class="hdlist1">
-m MESSAGE
</dt>
<dt class="hdlist1">
--message MESSAGE
</dt>
<dd>
<p>
        Use MESSAGE instead of invoking the editor.
</p>
</dd>
<dt class="hdlist1">
-f FILE
</dt>
<dt class="hdlist1">
--file FILE
</dt>
<dd>
<p>
        Use the contents of FILE instead of invoking the editor.
        (If FILE is "-", write to stdout.)
</p>
</dd>
<dt class="hdlist1">
--sign
</dt>
<dd>
<p>
        Add a "Signed-off-by:" to the end of the patch.
</p>
</dd>
<dt class="hdlist1">
--ack
</dt>
<dd>
<p>
        Add an "Acked-by:" line to the end of the patch.
</p>
</dd>
<dt class="hdlist1">
--review
</dt>
<dd>
<p>
        Add a "Reviewed-by:" line to the end of the patch.
</p>
</dd>
</dl></div>
</div>
</div>
<div class="sect1">
<h4 id="_stgit">StGit</h4>
<div class="sectionbody">
<div class="paragraph"><p>Part of the StGit suite - see <a href="stg.html">stg(1)</a></p></div>
</div>
</div>
</div>
    </div>
    

</article><!--End of body content--><footer id="footer">
            Â© 2020 Stacked Git Authors 
            
            
        </footer>
</div>
</div>


        <script src="../assets/js/all-nocdn.js"></script><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script>
</body>
</html>
